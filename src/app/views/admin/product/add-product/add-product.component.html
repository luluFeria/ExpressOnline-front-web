<h1>{{ id ? "ACTUALIZAR PRODUCTO" : "AGREGAR PRODUCTO" }}</h1>
<!--<app-system-error></app-system-error>-->

<div class="wrapper">

  <form class="form" [formGroup]="myForm" novalidate>

    <div class="form__content">

      <mat-form-field class="form__input" appearance="fill">
        <mat-label>Título</mat-label>
        <input matInput formControlName="title">
        <mat-error *ngIf="input['title'].touched && input['title'].invalid">
          <span *ngIf="input['title'].errors">título inválido</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form__input" appearance="fill">
        <mat-label>Precio</mat-label>
        <input matInput formControlName="price">
        <mat-error *ngIf="input['price'].touched && input['price'].invalid">
          <span *ngIf="input['price'].errors">precio inválido</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form__input form__input--margin-top" appearance="fill">
        <mat-label>Descripción</mat-label>
        <input matInput formControlName="description">
        <mat-error *ngIf="input['description'].touched && input['description'].invalid">
          <span *ngIf="input['description'].errors">descripción inválida</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Categoria</mat-label>
        <mat-select formControlName="categoryId">
          <mat-option *ngFor="let category of categories" [value]="category.id">{{category.name}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="form__input form__input--margin-top" appearance="fill">
        <mat-label>Imágenes</mat-label>
        <input matInput formControlName="images">
        <mat-error *ngIf="input['images'].touched && input['images'].invalid">
          <span *ngIf="input['images'].errors">imágenes inválidas</span>
        </mat-error>
      </mat-form-field>

    </div>

    <button class="btn-access" mat-raised-button color="primary" (click)=" id ? updateProduct() : addProduct()" [disabled]="myForm.invalid">
      {{ id ? "Actualizar" : "Agregar" }}
    </button>

  </form>

</div>
